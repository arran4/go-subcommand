// Generated by github.com/arran4/go-subcommand/cmd/gosubc

package {{.PackageName}}

import (
	"testing"
)

func TestRootCmd_Execute_Computed(t *testing.T) {
	t.Parallel()

	cmd, err := NewRoot("test", "v1", "commit", "date")
	if err != nil {
		t.Fatal(err)
	}

	{{- if .FunctionName}}
	called := false
	cmd.CommandAction = func(c *RootCmd) error {
		called = true
		return nil
	}
	{{- end}}

	args := []string{
	{{- if .FunctionName}}
	{{- range .Parameters }}
		{{- $param := . }}
		{{- if $param.IsPositional }}
			{{- if $param.IsVarArg }}
				{{- range until $param.VarArgMin }}
				{{- if eq $param.Type "int" }}"0",
				{{- else if eq $param.Type "bool" }}"true",
				{{- else if eq $param.Type "time.Duration" }}"0s",
				{{- else }}"test",{{- end }}
				{{- end }}
			{{- else }}
				{{- if eq $param.Type "int" }}"0",
				{{- else if eq $param.Type "bool" }}"true",
				{{- else if eq $param.Type "time.Duration" }}"0s",
				{{- else }}"test",{{- end }}
			{{- end }}
		{{- end }}
	{{- end }}
	{{- end }}
	}

	if err := cmd.Execute(args); err != nil {
		t.Errorf("Execute() error = %v", err)
	}

	{{- if .FunctionName}}
	if !called {
		t.Error("CommandAction was not called")
	}
	{{- end}}
}
